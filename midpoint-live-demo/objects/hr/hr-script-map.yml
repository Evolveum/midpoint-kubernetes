apiVersion: v1
kind: ConfigMap
metadata:
  name: hr-script-map
data:
  hr.sh: "#!/bin/bash\nset -e\n\npsql -v ON_ERROR_STOP=1 --username \"$POSTGRES_USER\" --dbname \"$POSTGRES_DB\" <<-EOSQL\n\n--\n-- PostgreSQL database dump\n--\n\nSET statement_timeout = 0;\nSET client_encoding = 'UTF8';\nSET standard_conforming_strings = on;\nSET check_function_bodies = false;\nSET client_min_messages = warning;\n\n--\n-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: \n--\n\nCREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;\n\n\n--\n-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: \n--\n\nCOMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';\n\n\nSET search_path = public, pg_catalog;\n\n--\n-- Name: emp; Type: TYPE; Schema: public; Owner: $POSTGRES_USER\n--\n\nCREATE TYPE emp AS ENUM (\n    'FTE',\n    'PTE',\n    'CONTRACTOR',\n    'RETIRED'\n);\n\n\nALTER TYPE public.emp OWNER TO $POSTGRES_USER;\n\n--\n-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: $POSTGRES_USER\n--\n\nCREATE SEQUENCE hibernate_sequence\n    START WITH 1\n    INCREMENT BY 1\n    NO MINVALUE\n    NO MAXVALUE\n    CACHE 1;\n\n\nALTER TABLE public.hibernate_sequence OWNER TO $POSTGRES_USER;\n\nSET default_tablespace = '';\n\nSET default_with_oids = false;\n\n--\n-- Name: usershr; Type: TABLE; Schema: public; Owner: $POSTGRES_USER; Tablespace: \n--\n\nCREATE TABLE usershr (\n    id integer NOT NULL,\n    artname character varying(255),\n    emailaddress character varying(255),\n    employeenumber integer,\n    emptype character varying(255),\n    firstname character varying(255),\n    surname character varying(255)\n);\n\n\nALTER TABLE public.usershr OWNER TO $POSTGRES_USER;\n\n--\n-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: $POSTGRES_USER\n--\n\nSELECT pg_catalog.setval('hibernate_sequence', 19, true);\n\n\n--\n-- Data for Name: usershr; Type: TABLE DATA; Schema: public; Owner: $POSTGRES_USER\n--\n\nCOPY usershr (id, artname, emailaddress, employeenumber, emptype, firstname, surname) FROM stdin;\n2\tLeonardo\t\\N\t1\tFTE\tLeonardo\tda Vinci\n3\tDonatello\t\\N\t2\tRETIRED\tDonatello\tdi Niccolo di Betto Bardi\n4\tRaphael\t\\N\t3\tCONTRACTOR\tRaffaello\tSanzio da Urbino\n5\tMichelangelo\t\\N\t4\tFTE\tMichelangelo\tdi Lodovico Buonarroti Simoni\n\\.\n\n\n--\n-- Name: usershr_pkey; Type: CONSTRAINT; Schema: public; Owner: $POSTGRES_USER; Tablespace: \n--\n\nALTER TABLE ONLY usershr\n    ADD CONSTRAINT usershr_pkey PRIMARY KEY (id);\n\n\n--\n-- Name: public; Type: ACL; Schema: -; Owner: postgres\n--\n\nREVOKE ALL ON SCHEMA public FROM PUBLIC;\nREVOKE ALL ON SCHEMA public FROM $POSTGRES_DB;\nGRANT ALL ON SCHEMA public TO $POSTGRES_DB;\nGRANT ALL ON SCHEMA public TO PUBLIC;\n\n\n--\n-- PostgreSQL database dump complete\n--\n\nEOSQL"

